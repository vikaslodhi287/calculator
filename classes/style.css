:root{
  --bg: linear-gradient(135deg,#0f172a,#0b2545,#08112a);
  --card-w: 240px;
  --card-h: 320px;
  --radius: 18px;
  --glass: rgba(255,255,255,0.06);
  --shadow: 0 20px 40px rgba(0,0,0,0.5);
  --transition: 260ms cubic-bezier(.2,.9,.3,1);
}

*{margin:0;padding:0;box-sizing:border-box;font-family:Inter,system-ui,-apple-system,"Segoe UI",Roboto,Arial;}

body{
  min-height:100vh;
  display:flex;
  align-items:center;
  justify-content:center;
  background: var(--bg);
  padding:40px;
  color:white;
}

/* Layout wrapper */
.wrap{
  width:100%;
  max-width:1100px;
  display:grid;
  grid-template-columns: 1fr 360px;
  align-items:center;
  gap:32px;
}

/* Text area */
.title{ font-size:32px; font-weight:700; margin-bottom:10px; }
.subtitle{ color:#dce7ff; margin-bottom:16px; line-height:1.4; }
.hint{ background:rgba(255,255,255,0.08); padding:8px 14px; display:inline-block; border-radius:30px; font-size:14px; }

/* Card area */
.stage{
  position:relative;
  height:420px;
  display:flex;
  align-items:center;
  justify-content:center;
  perspective:1200px;
  overflow: visible; /* IMPORTANT: allow cards to show outside container */
}

/* Base card styling */
.card{
  position:absolute;
  top:50%;
  left:50%;
  width:var(--card-w);
  height:var(--card-h);
  transform: translate(-50%,-50%); /* base centering */
  border-radius:var(--radius);
  overflow:hidden;
  background:rgba(255,255,255,0.04);
  border:1px solid var(--glass);
  box-shadow: var(--shadow);
  transition: transform var(--transition), box-shadow var(--transition);
  will-change: transform;
  /* keep stacking context predictable: don't apply transform that creates new context on the same element you animate z-index on beyond this base translate */
}

/* Rotated inner wrapper */
.card-inner{
  height:100%;
  width:100%;
  transform-origin:center;
  transition: transform var(--transition);
}

/* Images */
.card-inner img{
  height:100%;
  width:100%;
  object-fit:cover;
  display:block;
}

/* Fan-out offsets + rotations + base z-index */
#card1{ z-index:5; transform: translate(calc(-50% - 48px), -50%); }
#card1 .card-inner{ transform: rotate(-6deg); }

#card2{ z-index:4; transform: translate(calc(-50% - 16px), -50%); }
#card2 .card-inner{ transform: rotate(-10deg); }

#card3{ z-index:3; transform: translate(calc(-50% + 16px), -50%); }
#card3 .card-inner{ transform: rotate(-18deg); }

#card4{ z-index:2; transform: translate(calc(-50% + 48px), -50%); }
#card4 .card-inner{ transform: rotate(-26deg); }

/* Hover animation â€” bring to front reliably and pop */
.card:hover{
  z-index:9999 !important;
  transform: translate(-50%,-50%) scale(1.08);
  box-shadow: 0 30px 60px rgba(0,0,0,0.75);
}

/* When hovered, un-rotate the inner for nice reveal */
.card:hover .card-inner{
  transform: rotate(0deg);
}

/* Bottom label */
.legend{
  position:absolute;
  bottom:-40px;
  width:100%;
  text-align:center;
  font-size:14px;
  color:#bcd9ff;
}

/* Responsive */
@media (max-width:880px){
  .wrap{ grid-template-columns:1fr; gap:20px; padding:18px; }
  .stage{ order:-1; height:360px; }
  /* reduce offsets so cards fit smaller screens */
  #card1{ transform: translate(calc(-50% - 28px), -50%); }
  #card2{ transform: translate(calc(-50% - 8px), -50%); }
  #card3{ transform: translate(calc(-50% + 8px), -50%); }
  #card4{ transform: translate(calc(-50% + 28px), -50%); }
}
